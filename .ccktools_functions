#!/bin/bash

# REQUIRED

source ~/ccktools/.ccktools_aliases

# FUNCTIONS

goto() {
	if [[ $1 ]]; then
		cd /c/vhost/$1*
	else
		cd /c/vhost
	fi
}

gosi() {
	if [[ $1 ]]; then
		cd /c/wsl/sites/$1*
		cd docroot 2>/dev/null
		cd web 2>/dev/null
	else
		cd /c/wsl/sites
	fi
}

goth() {
	if [[ $1 ]]; then
		cd /c/wsl/sites/$1*
		cd docroot/themes/custom/
	else
		cd /c/wsl/sites
	fi
}

phpchanger() {
	echo "
_________________________
==> disabling mods"
	sudo a2dismod php5.6
	sudo a2dismod php7.0
	sudo a2dismod php7.1
	sudo a2dismod php7.2
	echo "
_________________________
==> disabling mpm"
	sudo a2dismod mpm_prefork
	sudo a2dismod mpm_worker
	sudo a2dismod mpm_event
	sudo a2dismod mpm_prefork
	echo "
_________________________
==> enabling $1"
	sudo a2enmod php$1
	sudo update-alternatives --set php /usr/bin/php$1
	echo "
_________________________
==> restarting apache"
	sudo service apache2 restart
	php -v
}

crequire() {
	if [[ $1 ]]; then
		MODULE_NAME=$1
		composer require drupal/${MODULE_NAME}
		drush en -y ${MODULE_NAME}
		draim
		cr
	else
		echo "falta nombre"
	fi
}

cremove() {
	if [[ $1 ]]; then
		MODULE_NAME=$1
		drush pmu -y ${MODULE_NAME}
		composer remove drupal/${MODULE_NAME}
		cr
	else
		echo "falta nombre"
	fi
}
