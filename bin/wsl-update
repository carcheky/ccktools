#!/bin/bash

wsl_stop() {
  echo "
  ==> la consola va a cerrarse
  "
  # read a
  sleep 1
  sudo killall -r '.*'
}

wsl_update() {
  cd ~/ccktools/
  # git reset --hard
  # git pull origin master
  GITPULL=$(git pull)
  echo "==> Checking ccktools updates..." &
  [[ ${GITPULL} == 'Already up to date.' ]] && clear || git pull

  find ~/ccktools/bin -type f -exec chmod +x {} \; &>/dev/null
  find ~/ccktools/bin -type f -exec dos2unix {} \; &>/dev/null
}

wsl_update
fix-bin &>/dev/null

# cd ~/ccktools/
# echo "==> Checking ccktools updates..." &
# git remote update &>/dev/null

# UPSTREAM=${1:-'@{u}'}
# LOCAL=$(git rev-parse @) &
# REMOTE=$(git rev-parse "$UPSTREAM") &
# BASE=$(git merge-base @ "$UPSTREAM")

# if [ $LOCAL = $REMOTE ]; then
#   echo "==> Up to date"
#   clear
#   exit
# elif [ $LOCAL = $BASE ]; then
#   echo "==> Updating ccktools..."
#   wsl_update
# elif [ $REMOTE = $BASE ]; then
#   echo "==> Need to push"
# else
#   echo "==> Diverged"
# fi
