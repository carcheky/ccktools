#!/bin/bash
source ~/ccktools/.ccktools

########
# INFO #
########


##########
# CONFIG #
##########


#############
# FUNCTIONS #
#############

zsh_remove(){
    echo "with remove"
    sudo apt remove zsh zsh-doc zsh-common -y
    sudo rm -fr ~/.zcompdump ~/.oh-my-zsh ~/.zshrc
    sudo apt autoremove -y
    ls -la ~
    exit 1
}

zsh_install(){
    sudo apt update
    sudo apt install git -y
    sudo apt install npm -y
    sudo apt install zsh zsh-doc zsh-common -y
    
    sudo sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

    # sed -i 's/ZSH_THEME="robbyrussell"/ZSH_THEME="agnoster"/g' ~/.zshrc ;

    # cat ~/.zshrc | grep ZSH_THEME=\" ;

    if ! grep -q "bash -c -l zsh" ~/.bashrc ; then
        echo "bash -c -l zsh" >> ~/.bashrc 
    fi
}



################
# MAIN PROGRAM #
################

echo $1

if [ ! $1 ]; then
    echo "use wsl-install-zsh [remove/install] "
    exit 1
fi

if [ $1 = 'remove' ]; then
    zsh_remove ;
    exit 1
fi

if [ $1 = 'install' ]; then
    zsh_install ;
    exit 1
fi

