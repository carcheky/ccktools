#!/bin/bash
source ~/ccktools/.ccktools_aliases

fix_path() {
    if [[ -d "/mnt/c/wsl/" ]]; then
        # wsl folder
        sudo chown -R user:user /mnt/c/wsl
        sudo chmod -R 777 /mnt/c/wsl
    fi
}

fix_bin() {
    if [[ -d "/mnt/c/wsl/" ]]; then
        # ccktools folder
        find /mnt/c/wsl/user/ccktools/bin -type f -exec sudo dos2unix {} \;
        sudo dos2unix /mnt/c/wsl/user/ccktools/.ccktool*

        # cmd-tools folder
        sudo unix2dos /mnt/c/wsl/user/ccktools/cmd-tools/*

        # home folder
        sudo chown -R user:user /home/user

        # home folder
        sudo chown -R user:user ~/.drush
        sudo chmod -R 777 ~/.drush
    fi
}
PATH_TO_FIX="/mnt/c/wsl/"

if [[ $1 == '--all']]; then
    fix_path
fi

fix_bin