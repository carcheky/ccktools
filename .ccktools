#!/bin/bash


# LOAD SOURCES

if [[ -d "$HOME/bin" ]]; then
    export PATH="~/bin:$PATH"
fi

if [[ -d "$HOME/.config/composer/vendor/bin" ]]; then
    export PATH="$HOME/.config/composer/vendor/bin:$PATH"
fi


# Include Drush bash customizations.
if [ -f "$HOME/.drush/drush.bashrc" ] ; then
  source $HOME/.drush/drush.bashrc
fi

source ~/ccktools/.ccktools_aliases
source ~/ccktools/.ccktools_functions

# FUNCTIONS

ssh_laucher(){
  SERVICE="ssh-agent"
  if pgrep -x "$SERVICE"
  then
      echo "$SERVICE is running yet"
  else
      echo "starting $SERVICE"
      sudo chmod 700 ~/.ssh
      sudo chmod 600  ~/.ssh/*
      sudo chmod 600 ~/.ssh/*.pub
      eval `ssh-agent -s`
      ssh-add -q ~/.ssh/id_rsa_c*

  fi
}

lamp_laucher(){
  SERVICE="apache2"
  if pgrep -x "$SERVICE"
  then
      echo "$SERVICE is running yet"
  else
      echo "starting $SERVICE"
      lamp start
  fi
}

# LOGIC

# ssh_laucher 2>/dev/null
# &>/dev/null

# if mount | grep /desadrupal > /dev/null; then
#     clear
# else
#     mountdesadrupal
# fi

local ret_status="%2\~(?:%2\~{$fg_bold[green]%2\~}➜ :%2\~{$fg_bold[red]%2\~}➜ )"
PROMPT='${ret_status} %2\~{$fg[cyan]%2\~}%2\~c%2\~$reset_color%2\~} $(git_prompt_info)'

ZSH_THEME_GIT_PROMPT_PREFIX="%2\~{$fg_bold[blue]%2\~}git:(%2\~{$fg[red]%2\~}"
ZSH_THEME_GIT_PROMPT_SUFFIX="%2\~{$reset_color%2\~} "
ZSH_THEME_GIT_PROMPT_DIRTY="%2\~{$fg[blue]%2\~}) %2\~{$fg[yellow]%2\~}✗"
ZSH_THEME_GIT_PROMPT_CLEAN="%2\~{$fg[blue]%2\~})"

lamp_laucher
clear
gosi al